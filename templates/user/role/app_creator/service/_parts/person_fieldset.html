{% load static i18n %}
<fieldset id="person_fieldset">
    <legend>Foydalanuvchi</legend>
    <form action="#" id="organization_form" method="POST">
        {% csrf_token %}

        <div class="row mb-3">
            <label class="col-form-label not_copy text-start">Ariza topshiruvchi shaxsini tanlang<span
                    class="text-danger">*</span></label>
            <div class="col-12">
                <select class="form-select" style="width: 100%;" id="person_type" name="person_type"
                        required>
                    <option value="0">Jismoniy shaxs</option>
                    <option value="1">Yuridik shaxs</option>
                </select>
            </div>
        </div>
        <div class="row mb-3">
            <label for="person" class="col-form-label not_copy text-start">Foydalanuvchini tanlang<span
                    class="text-danger">*</span></label>
            <div class="col-12">
                <select class="form-select select2" style="width: 100%;" id="person" name="person"
                        required>
                    <option></option>
                    <option value="new" data-style="color: blue;">Yangi foydalanuvchi qo'shish</option>
                    <option value="2">Eshonov Bahodir</option>
                </select>
            </div>
        </div>
        <div id="physical_div">
            <div class="row mb-3">
                <label class="not_copy col-4 col-xl-3 col-form-label text-start"
                       for="last_name">{% trans "Familiya" %}<span
                        class="text-danger">*</span></label>
                <div class="col-8 col-xl-9">
                    <input type="text" id="last_name_x"
                           class="form-control" disabled>
                </div>
            </div>
            <div class="row mb-3">
                <label class="not_copy col-4 col-xl-3 col-form-label text-start"
                       for="first_name">{% trans "Ism" %}<span
                        class="text-danger">*</span></label>
                <div class="col-8 col-xl-9">
                    <input type="text" id="first_name_x"
                           class="form-control" disabled>
                </div>
            </div>
            <div class="row mb-3">
                <label class="not_copy col-4 col-xl-3 col-form-label text-start"
                       for="middle_name">{% trans "Otasining ismi" %}<span
                        class="text-danger">*</span></label>
                <div class="col-8 col-xl-9">
                    <input type="text" id="middle_name_x"
                           class="form-control" disabled>
                </div>
            </div>
            <div class="row mb-3">
                <label class="not_copy col-4 col-xl-3 col-form-label text-start"
                       for="region">{% trans "Viloyat" %}<span
                        class="text-danger">*</span></label>
                <div class="col-8 col-xl-9 region">
                    <input class="form-control" type="text" id="region_x" disabled>
                </div>
            </div>
            <div class="row mb-3">
                <label class="not_copy col-4 col-xl-3 col-form-label text-start"
                       for="district">{% trans "Tuman/Shahar" %}<span
                        class="text-danger">*</span></label>
                <div class="col-8 col-xl-9 district">
                    <input class="form-control" type="text" id="district_x" disabled>
                </div>
            </div>
            <div class="row mb-3">
                <label class="not_copy col-4 col-xl-3 col-form-label text-start"
                       for="quarter">{% trans "Mahalla" %}<span
                        class="text-danger">*</span></label>
                <div class="col-8 col-xl-9 quarter">
                    <input class="form-control" type="text" id="quarter_x" disabled>
                </div>
            </div>


            <div class="justify-content-end row">
                <div class="col-12">
                    <button type="button"
                            class="btn btn-secondary waves-effect waves-light float-start prev">
                        Oldingi
                    </button>
                    <button type="button"
                            class="btn btn-info waves-effect waves-light float-end next">Keyingi
                    </button>
                </div>
            </div>

        </div>

        {% include 'user/role/app_creator/service/_parts/add_organization.html' %}
    </form>
</fieldset>

{% block js %}
    <script src="{% static 'assets/libs/jquery/jquery.min.js' %}" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $(document).on('change', '#person_type', function (e) {
                var selectedPersonType = $(this).children("option:selected").val();
                $('input[name ="person_type"]').val(selectedPersonType)

                if (selectedPersonType === '1') {
                    $('#title').attr('name', 'title')
                    $('#director').attr('name', 'director')
                    $('#identification_number').attr('name', 'identification_number')
                    $('#legal_address_region').attr('name', 'legal_address_region')
                    $('#legal_address_district').attr('name', 'legal_address_district')
                    $('#address_of_garage').attr('name', 'address_of_garage')

                    $('#physical_div').hide()
                    $('#legal_div').show()


                } else if (selectedPersonType === '0') {
                    $('#title').removeAttr('name')
                    $('#director').removeAttr('name')
                    $('#identification_number').removeAttr('name')
                    $('#legal_address_region').removeAttr('name')
                    $('#legal_address_district').removeAttr('name')
                    $('#address_of_garage').removeAttr('name')

                    $('#physical_div').show()
                    $('#legal_div').hide()

                }
            });
        })
    </script>
{% endblock js %}